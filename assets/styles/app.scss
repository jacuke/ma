@import "~bootstrap/scss/bootstrap";
@import url('../../node_modules/bootstrap-icons/font/bootstrap-icons.css');

.umsteiger-search-result a.code-external-link {

    color: black;
}

a.code-external-link {

    text-decoration: none;

    &:hover {
        text-decoration: underline !important;
        cursor: pointer;
    }
}

.tooltip-inner {
    max-width: 180px !important;
}

$smaller-text: 15px;
$primary-complementary: #fd9c0d;
$primary-dark: #01388a;
$primary-complementary-dark: #8a5301;
$name-box-width: 260px;
$table-width: 800px;
$page-border: 12px;

.row {
    padding-top: 30px;
}

.nav {
    padding-top: 10px;
}

.modal-dialog {

    min-width: 250px;
    width: fit-content;
    max-width: 85% !important;

    .modal-header {
        border-bottom: 0 !important;

        .modal-title {
            padding-right: 10px;
        }
    }

    .modal-body {
        padding-top: 0 !important;
    }
}

.umsteiger-submenu {
    padding: 16px 0;
}

.umsteiger-page {

    margin-left: $page-border;

    .nav {
        max-width: $table-width;
        padding-bottom: 5px;

        .nav-item {
            padding: 1px;
        }

        .nav-link {
            padding: 7px 13px !important;
            border-radius: var(--bs-nav-tabs-border-radius) !important;

            &.active {
                border: var(--bs-nav-tabs-border-width) solid !important;
            }
        }
    }

    .rate-and-download {

        display: flex;
        justify-content: space-between;
        width: $table-width;
        padding: 20px 0 20px 4px;
        font-weight: bold;

        .rate, .download {
            align-content: center;
            margin-right: 8px;
        }
    }

    form .form-select {
        width: fit-content;
    }

    table.umsteiger-table {

        width: $table-width;

        th.code {
            width: 10%;
        }
        th.arrow {
            width: 8%;
            text-align: center;
            padding-left: 3px;
        }
        th.name {
            width: 36%;
        }
        td {
            line-height: 26px;
        }
        td.arrow {
            text-align: center;
            font-size: 21px;
        }

        sup .bi-question-circle {
            margin-left: -3px;
            font-size: 14px;
        }
    }
}

.icons-table-holder {

    margin: -10px 10px;

    table.icons-table {
        width: 100% !important;
        td {
            border: 0 !important;
            vertical-align: middle;
        }
        td.icon {
            text-align: center;
            font-size: 21px;
        }
    }
}

.bi-dash-square-fill { color: $success; }
.bi-x-square-fill { color: $danger; }
.bi-arrow-right-square-fill { color: $primary; }
.bi-arrow-left-square-fill { color: $primary-complementary; }

.navbar.bfarmer-navbar {

    padding: 1px 0 3px 0 !important;
    margin-bottom: 18px;
    background-color: rgba(0, 0, 0, 0.05);

    .container-fluid {
        padding-left: 6px !important;
    }

    .navbar-image {
        width: 24px;
        height: 20px;
        background-image: url('../img/bfarmer1.png');
        background-repeat:no-repeat;
        &:hover {
            background-image: url('../img/bfarmer2.png');
        }
        float:left;
        margin-right: 10px;
    }

    .navbar-image-text {
        height: 20px;
        font-size: $smaller-text;
    }
}

.codes-3-col {
    width: 50%;
    margin-left: auto;
    margin-right: auto;

    display: grid;
    grid-auto-rows: 1fr;
    grid-template-columns: 1fr 1fr 1fr;

    &> * {
        padding:3px;
    }
}

.codes-page .input-group {

    width:200px !important;
    padding-bottom: 5px  !important;
}

.conceptmap-page {

    margin-left: $page-border;
    form {
        width: 500px;

        .input-group {
            padding: 8px 0 4px;
        }

        .form-select.fhir-release {
            max-width: 80px;
        }

        .checkbox {
            background-color: white;
        }
    }
}

.umsteiger-search-page {

    form {
        width: 800px;
        padding-bottom: 8px  !important;

        span, button {
            width: 85px;
            justify-content: center;
        }

        .form-control, .form-select {
            width: 123px;
            max-width: 123px;
        }
    }
}

.codes-page, .umsteiger-search-page {

    margin: 0 0 $page-border $page-border;

    form {
        padding-bottom: 12px;
    }
}

.blur-box {
    position: relative;
    width: 100%;
}
.blur-box::before {
    content: "";
    position: absolute;
    z-index: -1;
    inset: 0 0 -20px 0;
    transform: translate(0, -10px);
    filter: blur(10px);
    background: white;
}

.patients-page {

    margin: 0 $page-border $page-border $page-border;

    .form-navbar {
        margin-left: -$page-border !important;
        background-color: white;
    }

    .patients-total {
        padding-bottom: 4px;
    }

    form {
        .btn-group {
            max-height: 38px;
        }
        .main-input-group {
            margin-left: $page-border;
        }
        .search-input-group {
            padding-bottom: 5px;
        }
        .input-group {
            width: fit-content;
        }
        .code-input, .name-input {
            flex-grow: 0;
        }
        .code-input {
            width: 120px;
        }
        .name-input {
            width: 200px;
        }
        .hits-text, .pages-text {
            background-color: white;
            border: none;
        }
        .hits-text {
            margin: 1px 8px 1px 16px;
        }
        .pages-text {
            margin: 1px;
        }
        .btn-first-page, .btn-next-page {
            margin-right: 1px;
        }
    }

    table {
        margin-top: 5px;
    }

    td {
        border-width: var(--bs-border-width);
        padding-left: 10px;
        padding-right: 10px;

        .code-cell {
            display: flex;
            justify-content: space-between;
            min-width: 78px;
        }
    }

    th.patient-id, th.patient-year {
        text-align: center;
    }

    td.patient-id, td.patient-year {

        box-shadow: none !important;
        text-align: center;
    }

    td.patient-id {

        background-color: var(--bs-table-striped-bg) !important;
        width: 80px;
    }

    td.patient-year {
        background-color: white !important;
        width: 60px;
    }

    td.patient-code {
        width: 99px;
    }
}

.codes-page td {

    vertical-align: middle;
}

.umsteiger-icon {
    font-size: 19px;
    text-align: center;
}

.umsteiger-search-link {
    color: black;
    :link, :visited, :hover, :active {
        color: black;
    }
}

.umsteiger-search-result {

    overflow-y:scroll;
    scrollbar-color: $primary-complementary transparent;
    padding: 2px 2px 10px;

    .search-code {
        width: calc($name-box-width + 33px);

        &.chrono {
            margin: 0 0 0 auto;
        }

        &.chrono-plus {
            margin: 0 calc(($name-box-width + 34px + 16px) / 2 * -1) 0 auto;
        }

        &.hide {
            visibility: hidden;
        }

        .code-and-name {
            width: fit-content;
            border: 2px solid black;
            border-radius: 10px;
            padding: 13px 12px 13px 13px;

            &.has-umsteiger {
                margin: 0 auto;
            }

            .search-year {
                width: fit-content;
                margin: 0 auto -15px auto;
                border: 2px solid black;
                border-radius: 10px;
                padding: 0 8px;
            }
        }
    }

    .recursion-results {
        width: max-content;
        display: flex;
        gap: 17px;
    }

    .code-container {
        font-weight: bold;
    }

    .umsteiger-name {
        width: $name-box-width;
    }

    .history-container {

        margin-top: 5px;
        width: max-content;

        &.only-newer {
            margin-right: calc(($name-box-width / 2) + 20px);
        }
        &.only-older {
            margin-left: calc(($name-box-width / 2) + 20px);
        }

        .time-arrow {
            min-width: calc($name-box-width - 40px);
            height: 2px;
            background-color: black;
            margin: -7px 0 10px 0;

            &::before, &::after {
                content: "";
                display: block;
                width: 10px;
                height: 2px;
                background-color: black;
                position: relative;
                left: -2px;
            }

            &:not(.chrono) {
                &::before, &::after {
                    margin-left: auto;
                    left: 2px;
                }
            }

            &::before {
                top: -3px;
                transform: rotate(-45deg);
            }
            &::after {
                top: -23px;
                transform: rotate(45deg);
            }

            &:not(.chrono) {
                &::before {
                    transform: rotate(-135deg);
                }
                &::after {
                    transform: rotate(135deg);
                }
            }

            .time-text {

                margin-left: 10px;

                &:not(.chrono) {
                    margin-left: auto;
                    margin-right: 10px;
                    width: fit-content;
                }
            }
        }

        .year {
            margin: 0 0 1px -3px;
            padding: 0 9px;
            color: white;
            background-color: $primary-dark;
            border: 2px solid $primary-dark;
            border-radius: 10px;
            width:fit-content;

            &.chrono {
                margin-left: auto;
                margin-right: -3px;
                color: $primary-dark;
                background-color: white;
            }

            .bi {
                margin: -2px;
            }
        }

        .history-results-container {

            border: 2px solid $primary-dark;
            border-radius:10px;
            margin: -2px -2px -2px -3px;
            display:flex;
            width: max-content;
            padding: 13px;

            &.chrono {
                border: 3px double $primary-dark;
                flex-direction: row-reverse;
                margin: -3px -3px -3px auto;
                padding: 12px;
            }

            .result {
                flex-shrink:0;
                margin: 0 2px;
            }

            .subsection {
                &:not(.chrono) {
                    margin-left: 14px;
                }
                &.chrono {
                    margin-right: 14px;
                }
            }
        }
    }

    .umsteiger-codes {
        .bi {
            font-size: 17px !important;
        }
    }
}

.search-results {
    .result-counter {
        font-size: $smaller-text !important;
        color: $primary-dark;
        padding: 16px 0 8px;
    }
    .separator {
        border-bottom: 2px dotted darkgray;
        margin: 16px 12px 0 0;
    }
}